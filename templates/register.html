<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Register — Secure File Storage Blockchain</title>

  <style>
    :root{
      --bg:#0f172a;
      --bg-soft:#111827;
      --card:#0b1220;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --primary:#6366f1;
      --primary-600:#5457ea;
      --ring:#a5b4fc;
      --success-bg:#0f2e22;
      --success-bd:#22c55e;
      --success-tx:#86efac;
      --error-bg:#34151a;
      --error-bd:#f87171;
      --error-tx:#fecaca;
      --surface:#0b1220;
      --shadow: 0 10px 30px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.03);
      --radius: 16px;
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f6f7fb;
        --bg-soft:#eef1f6;
        --card:#ffffff;
        --text:#0f172a;
        --muted:#475569;
        --primary:#4f46e5;
        --primary-600:#4338ca;
        --ring:#a5b4fc;
        --success-bg:#ecfdf5;
        --success-bd:#10b981;
        --success-tx:#065f46;
        --error-bg:#fef2f2;
        --error-bd:#ef4444;
        --error-tx:#7f1d1d;
        --surface:#ffffff;
        --shadow: 0 10px 30px rgba(2,6,23,.08);
      }
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(99,102,241,.25), transparent 60%),
        radial-gradient(900px 500px at 110% 10%, rgba(56,189,248,.18), transparent 60%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg-soft) 100%);
      display:grid;
      place-items:center;
      padding: 32px 16px;
    }

    .card{
      width:100%;
      max-width: 480px;
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.06);
      padding: 26px;
    }

    header{
      text-align:center;
      margin-bottom: 18px;
    }
    h1{
      margin:0;
      font-size: clamp(22px, 3.2vw, 28px);
      font-weight:800;
      letter-spacing:.2px;
    }
    .subtitle{
      margin-top:6px;
      color:var(--muted);
      font-size:.98rem;
    }

    .flash-messages{ margin: 12px 0 6px; }
    .flash-message{
      padding: 10px 12px;
      border-radius: 12px;
      border:1px solid transparent;
      display:flex; gap:10px; align-items:flex-start;
      line-height:1.4;
    }
    .flash-message::before{
      content:"";
      width:8px;height:8px; margin-top:6px; border-radius:50%; background: currentColor; opacity:.9;
    }
    .flash-message.success{ background:var(--success-bg); border-color:var(--success-bd); color:var(--success-tx); }
    .flash-message.error{   background:var(--error-bg);   border-color:var(--error-bd);   color:var(--error-tx); }

    form{ margin-top: 12px; }
    .field{ margin-bottom: 16px; }
    label{
      display:block;
      margin: 0 0 6px;
      font-weight:600;
      font-size:.95rem;
      color: var(--muted);
    }
    input[type="email"], input[type="password"]{
      width:100%;
      padding: 12px 14px;
      font-size: 16px;
      color: var(--text);
      background: var(--surface);
      border:1px solid rgba(255,255,255,.10);
      border-radius: 12px;
      outline: none;
      transition: box-shadow .12s ease, border-color .12s ease;
    }
    input::placeholder{ color: #9aa3b2; }
    input:focus{
      border-color: var(--primary);
      box-shadow: 0 0 0 3px var(--ring);
    }

    .btn{
      width:100%;
      appearance:none;
      border:1px solid transparent;
      padding: 12px 16px;
      border-radius: 14px;
      font-weight:700;
      font-size: 16px;
      cursor:pointer;
      background: var(--primary);
      color:white;
      box-shadow: 0 8px 20px rgba(99,102,241,.25);
      transition: transform .05s ease, background-color .12s ease, box-shadow .12s ease;
    }
    .btn:hover{ background: var(--primary-600); }
    .btn:active{ transform: translateY(1px); }
    .btn:focus-visible{ box-shadow: 0 0 0 3px var(--ring), 0 8px 20px rgba(99,102,241,.25); outline:none; }

    .links{
      text-align:center;
      margin-top:16px;
      color: var(--muted);
      font-size:.95rem;
    }
    .links a{
      color: var(--text);
      text-decoration:none;
      font-weight:600;
      border-bottom: 1px dotted rgba(255,255,255,.25);
    }
    .links a:hover{ color: var(--primary); border-bottom-color: transparent; }

    @media (prefers-reduced-motion: reduce){
      .btn, input{ transition: none !important; }
    }
  </style>
</head>
<body>
  <div class="card">
    <header>
      <h1>Secure File Storage</h1>
      <div class="subtitle">Create your account</div>
    </header>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-messages" role="status" aria-live="polite">
          {% for category, message in messages %}
            <div class="flash-message {{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" novalidate>
      <div class="field">
        <label for="email">Email</label>
        <input id="email" type="email" name="email" placeholder="you@example.com" required />
      </div>

      <div class="field">
        <label for="password">Password</label>
        <input id="password" type="password" name="password" placeholder="••••••••" required />
      </div>

      <button class="btn" type="submit">Register</button>
    </form>

    <div class="links">
      <p>Already have an account? <a href="{{ url_for('login') }}">Login</a></p>
      <p><a href="{{ url_for('index') }}">Back to Home</a></p>
    </div>
  </div>
</body>
</html>
